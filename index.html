<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Compass - Your Path to Success</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/lucide.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .dark-theme {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
        }
        
        .quiz-card {
            transform: perspective(1000px) rotateY(0deg);
            transition: transform 0.6s;
        }
        
        .quiz-card:hover {
            transform: perspective(1000px) rotateY(5deg);
        }
        
        .career-card {
            transition: all 0.3s ease;
        }
        
        .career-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .typing-effect {
            border-right: 2px solid #667eea;
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 50% { border-color: transparent; }
            51%, 100% { border-color: #667eea; }
        }
        
        .floating {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .progress-ring {
            transform: rotate(-90deg);
        }
        
        .progress-ring-circle {
            transition: stroke-dasharray 0.35s;
            transform-origin: 50% 50%;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px;
            border-radius: 8px;
            color: white;
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background: #10b981;
        }
        
        .notification.error {
            background: #ef4444;
        }
        
        .mind-map-container {
            max-height: 600px;
            overflow: auto;
        }
        
        .chatbot-container {
            height: 500px;
            overflow-y: auto;
        }
        
        .message-bubble {
            max-width: 80%;
            word-wrap: break-word;
        }
        
        .user-message {
            background: #667eea;
            color: white;
            margin-left: auto;
        }
        
        .bot-message {
            background: #f3f4f6;
            color: #374151;
        }
        
        .shimmer {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        .modal-backdrop {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }
    </style>
</head>
<body class="min-h-screen transition-all duration-300" id="mainBody">
    <!-- Notification Container -->
    <div id="notification" class="notification"></div>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center z-50">
        <div class="text-center text-white">
            <div class="animate-spin rounded-full h-32 w-32 border-t-2 border-white mb-4 mx-auto"></div>
            <h2 class="text-2xl font-bold">Loading Career Compass...</h2>
            <p class="mt-2">Preparing your personalized career journey</p>
        </div>
    </div>

    <!-- Authentication Modal -->
    <div id="authModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <h2 class="text-3xl font-bold text-gray-800">Welcome to Career Compass</h2>
                <p class="text-gray-600 mt-2">Your personalized career guidance platform</p>
            </div>
            
            <div class="flex space-x-4 mb-6">
                <button id="loginTab" class="flex-1 py-2 text-center border-b-2 border-blue-500 text-blue-500 font-semibold">Login</button>
                <button id="registerTab" class="flex-1 py-2 text-center border-b-2 border-gray-300 text-gray-500">Register</button>
            </div>

            <!-- Login Form -->
            <form id="loginForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                    <input type="email" id="loginEmail" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input type="password" id="loginPassword" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
                <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition duration-300">Login</button>
            </form>

            <!-- Register Form -->
            <form id="registerForm" class="space-y-4 hidden">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                    <input type="text" id="registerName" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                    <input type="email" id="registerEmail" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input type="password" id="registerPassword" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Location</label>
                    <select id="registerLocation" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                        <option value="">Select Location</option>
                        <option value="mumbai">Mumbai</option>
                        <option value="delhi">Delhi</option>
                        <option value="bangalore">Bangalore</option>
                        <option value="hyderabad">Hyderabad</option>
                        <option value="chennai">Chennai</option>
                        <option value="pune">Pune</option>
                        <option value="kolkata">Kolkata</option>
                        <option value="ahmedabad">Ahmedabad</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Education Level</label>
                    <select id="registerEducation" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                        <option value="">Select Education</option>
                        <option value="10th">10th Grade</option>
                        <option value="12th">12th Grade</option>
                        <option value="undergraduate">Undergraduate</option>
                        <option value="graduate">Graduate</option>
                        <option value="postgraduate">Postgraduate</option>
                    </select>
                </div>
                <button type="submit" class="w-full bg-green-600 text-white py-2 rounded-md hover:bg-green-700 transition duration-300">Register</button>
            </form>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-30">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-2">
                    <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-xl">CC</span>
                    </div>
                    <span class="text-2xl font-bold text-gray-800">Career Compass</span>
                </div>
                
                <div class="hidden md:flex space-x-6">
                    <a href="#" onclick="showSection('home')" class="text-gray-700 hover:text-blue-600 transition duration-300">Home</a>
                    <a href="#" onclick="showSection('dashboard')" class="text-gray-700 hover:text-blue-600 transition duration-300">Dashboard</a>
                    <a href="#" onclick="showSection('quiz')" class="text-gray-700 hover:text-blue-600 transition duration-300">Quizzes</a>
                    <a href="#" onclick="showSection('careers')" class="text-gray-700 hover:text-blue-600 transition duration-300">Careers</a>
                    <a href="#" onclick="showSection('scholarships')" class="text-gray-700 hover:text-blue-600 transition duration-300">Scholarships</a>
                    <a href="#" onclick="showSection('counselling')" class="text-gray-700 hover:text-blue-600 transition duration-300">Counselling</a>
                </div>

                <div class="flex items-center space-x-4">
                    <button id="themeToggle" class="p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition duration-300">
                        <span id="themeIcon">🌙</span>
                    </button>
                    <button id="userProfile" class="flex items-center space-x-2 bg-blue-100 px-4 py-2 rounded-full hover:bg-blue-200 transition duration-300">
                        <span class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-semibold" id="userAvatar">U</span>
                        <span id="userName">User</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <div id="mainContent">
        <!-- Home Section -->
        <section id="homeSection" class="min-h-screen gradient-bg text-white">
            <div class="container mx-auto px-4 py-20">
                <div class="text-center">
                    <h1 class="text-6xl font-bold mb-6 floating">
                        Discover Your <span class="text-yellow-300">Dream Career</span>
                    </h1>
                    <p class="text-xl mb-8 max-w-3xl mx-auto">
                        Get personalized career recommendations, explore 1000+ career paths, and build your roadmap to success with AI-powered guidance.
                    </p>
                    <div class="flex flex-col md:flex-row gap-4 justify-center items-center">
                        <button onclick="showSection('quiz')" class="bg-white text-blue-600 px-8 py-4 rounded-full font-semibold text-lg hover:bg-gray-100 transition duration-300 shadow-lg">
                            Start Career Quiz
                        </button>
                        <button onclick="showSection('careers')" class="bg-transparent border-2 border-white text-white px-8 py-4 rounded-full font-semibold text-lg hover:bg-white hover:text-blue-600 transition duration-300">
                            Explore Careers
                        </button>
                    </div>
                </div>

                <div class="grid md:grid-cols-3 gap-8 mt-20">
                    <div class="glass-effect p-6 rounded-lg text-center">
                        <div class="w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl">🎯</span>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Personalized Guidance</h3>
                        <p>AI-powered recommendations based on your interests, skills, and personality</p>
                    </div>
                    <div class="glass-effect p-6 rounded-lg text-center">
                        <div class="w-16 h-16 bg-green-400 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl">📚</span>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Comprehensive Database</h3>
                        <p>Explore 1000+ careers with detailed roadmaps, skills, and opportunities</p>
                    </div>
                    <div class="glass-effect p-6 rounded-lg text-center">
                        <div class="w-16 h-16 bg-purple-400 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl">🚀</span>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Real-time Opportunities</h3>
                        <p>Stay updated with latest jobs, internships, scholarships, and resources</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dashboard Section -->
        <section id="dashboardSection" class="min-h-screen bg-gray-50 py-20 hidden">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">Your Personalized Dashboard</h2>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Profile Overview -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-semibold mb-4">Profile Overview</h3>
                        <div id="profileOverview">
                            <p class="text-gray-600 mb-2"><strong>Education:</strong> <span id="userEducation">Not specified</span></p>
                            <p class="text-gray-600 mb-2"><strong>Location:</strong> <span id="userLocation">Not specified</span></p>
                            <p class="text-gray-600 mb-2"><strong>Quizzes Completed:</strong> <span id="quizzesCompleted">0/3</span></p>
                        </div>
                    </div>

                    <!-- Recommended Careers -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-semibold mb-4">Recommended Careers</h3>
                        <div id="recommendedCareers" class="space-y-3">
                            <p class="text-gray-600">Complete the career quiz to get personalized recommendations</p>
                        </div>
                    </div>

                    <!-- Progress Tracker -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-semibold mb-4">Progress Tracker</h3>
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-gray-700">Career Interest Quiz</span>
                                    <span class="text-sm text-gray-700" id="interestQuizProgress">0%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-blue-600 h-2 rounded-full" id="interestQuizBar" style="width: 0%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-gray-700">Aptitude Quiz</span>
                                    <span class="text-sm text-gray-700" id="aptitudeQuizProgress">0%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-green-600 h-2 rounded-full" id="aptitudeQuizBar" style="width: 0%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-gray-700">Personality Quiz</span>
                                    <span class="text-sm text-gray-700" id="personalityQuizProgress">0%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-purple-600 h-2 rounded-full" id="personalityQuizBar" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Latest Opportunities -->
                    <div class="bg-white rounded-lg shadow-md p-6 md:col-span-2">
                        <h3 class="text-xl font-semibold mb-4">Latest Opportunities</h3>
                        <div id="latestOpportunities">
                            <div class="shimmer h-20 rounded mb-4"></div>
                            <div class="shimmer h-20 rounded mb-4"></div>
                            <div class="shimmer h-20 rounded"></div>
                        </div>
                    </div>

                    <!-- Saved Careers -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-semibold mb-4">Saved Careers</h3>
                        <div id="savedCareers">
                            <p class="text-gray-600">No careers saved yet</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quiz Section -->
        <section id="quizSection" class="min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 py-20 hidden">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center mb-4 text-gray-800">Career Assessment Quizzes</h2>
                <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">
                    Discover your perfect career path through our comprehensive assessment system. Complete all three quizzes for the most accurate recommendations.
                </p>

                <div class="grid md:grid-cols-3 gap-8 mb-12">
                    <div class="quiz-card bg-white rounded-lg shadow-lg p-6 text-center">
                        <div class="w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-3xl">🎯</span>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Career Interest</h3>
                        <p class="text-gray-600 mb-4">Identify your passions and interests to find careers that align with what you love</p>
                        <button onclick="startQuiz('interest')" class="bg-blue-600 text-white px-6 py-3 rounded-full hover:bg-blue-700 transition duration-300">
                            Start Quiz
                        </button>
                    </div>

                    <div class="quiz-card bg-white rounded-lg shadow-lg p-6 text-center">
                        <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-3xl">🧠</span>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Aptitude Test</h3>
                        <p class="text-gray-600 mb-4">Evaluate your logical reasoning, creativity, and problem-solving abilities</p>
                        <button onclick="startQuiz('aptitude')" class="bg-green-600 text-white px-6 py-3 rounded-full hover:bg-green-700 transition duration-300">
                            Start Quiz
                        </button>
                    </div>

                    <div class="quiz-card bg-white rounded-lg shadow-lg p-6 text-center">
                        <div class="w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-3xl">👤</span>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Personality</h3>
                        <p class="text-gray-600 mb-4">Understand your personality traits and how they influence your career choices</p>
                        <button onclick="startQuiz('personality')" class="bg-purple-600 text-white px-6 py-3 rounded-full hover:bg-purple-700 transition duration-300">
                            Start Quiz
                        </button>
                    </div>
                </div>

                <!-- Quiz Container -->
                <div id="quizContainer" class="hidden">
                    <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8">
                        <div class="mb-6">
                            <div class="flex justify-between items-center mb-2">
                                <h3 id="quizTitle" class="text-2xl font-bold text-gray-800"></h3>
                                <span id="quizProgress" class="text-sm text-gray-600"></span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div id="progressBar" class="bg-blue-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                            </div>
                        </div>

                        <div id="questionContainer" class="mb-8">
                            <!-- Questions will be loaded here -->
                        </div>

                        <div class="flex justify-between">
                            <button id="prevQuestion" class="bg-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-400 transition duration-300" onclick="previousQuestion()" disabled>
                                Previous
                            </button>
                            <button id="nextQuestion" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition duration-300" onclick="nextQuestion()">
                                Next
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Quiz Results -->
                <div id="quizResults" class="hidden">
                    <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8">
                        <h3 class="text-3xl font-bold text-center text-gray-800 mb-8">Your Results</h3>
                        <div id="resultsContent">
                            <!-- Results will be displayed here -->
                        </div>
                        <div class="text-center mt-8">
                            <button onclick="showSection('dashboard')" class="bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition duration-300">
                                View Dashboard
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Careers Section -->
        <section id="careersSection" class="min-h-screen bg-white py-20 hidden">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center mb-4 text-gray-800">Explore 1000+ Careers</h2>
                <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">
                    Comprehensive career database with detailed roadmaps, salary information, required skills, and growth opportunities.
                </p>

                <!-- Search and Filter -->
                <div class="bg-gray-50 rounded-lg p-6 mb-8">
                    <div class="grid md:grid-cols-4 gap-4">
                        <input type="text" id="careerSearch" placeholder="Search careers..." class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        
                        <select id="categoryFilter" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">All Categories</option>
                            <option value="technology">Technology</option>
                            <option value="healthcare">Healthcare</option>
                            <option value="finance">Finance</option>
                            <option value="education">Education</option>
                            <option value="government">Government</option>
                            <option value="defense">Defense</option>
                            <option value="arts">Arts & Entertainment</option>
                            <option value="business">Business</option>
                            <option value="engineering">Engineering</option>
                            <option value="law">Law</option>
                            <option value="science">Science</option>
                            <option value="social">Social Services</option>
                        </select>
                        
                        <select id="salaryFilter" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">All Salaries</option>
                            <option value="0-3">₹0-3 LPA</option>
                            <option value="3-6">₹3-6 LPA</option>
                            <option value="6-12">₹6-12 LPA</option>
                            <option value="12-25">₹12-25 LPA</option>
                            <option value="25+">₹25+ LPA</option>
                        </select>
                        
                        <button onclick="filterCareers()" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-300">
                            Apply Filters
                        </button>
                    </div>
                </div>

                <!-- Career Cards -->
                <div id="careerGrid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Career cards will be loaded here -->
                </div>

                <!-- Load More Button -->
                <div class="text-center mt-12">
                    <button id="loadMoreCareers" onclick="loadMoreCareers()" class="bg-gray-600 text-white px-8 py-3 rounded-lg hover:bg-gray-700 transition duration-300">
                        Load More Careers
                    </button>
                </div>
            </div>
        </section>

        <!-- Career Detail Modal -->
        <div id="careerModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40 hidden modal-backdrop">
            <div class="bg-white rounded-lg max-w-6xl w-full mx-4 max-h-screen overflow-y-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 id="careerModalTitle" class="text-3xl font-bold text-gray-800"></h3>
                        <div class="flex space-x-2">
                            <button onclick="saveCareer()" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition duration-300">
                                <span id="saveCareerIcon">💾</span> Save
                            </button>
                            <button onclick="shareCareer()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-300">
                                📤 Share
                            </button>
                            <button onclick="closeCareerModal()" class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition duration-300">
                                ✕ Close
                            </button>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-3 gap-6">
                        <!-- Career Overview -->
                        <div class="md:col-span-2">
                            <div class="bg-gray-50 rounded-lg p-6 mb-6">
                                <h4 class="text-xl font-semibold mb-4">Career Overview</h4>
                                <div id="careerOverview" class="space-y-3">
                                    <!-- Career details will be loaded here -->
                                </div>
                            </div>

                            <!-- Roadmap -->
                            <div class="bg-gray-50 rounded-lg p-6 mb-6">
                                <h4 class="text-xl font-semibold mb-4">Career Roadmap</h4>
                                <div id="careerRoadmap">
                                    <!-- Roadmap content will be loaded here -->
                                </div>
                            </div>

                            <!-- Mind Map -->
                            <div class="bg-gray-50 rounded-lg p-6 mb-6">
                                <h4 class="text-xl font-semibold mb-4">Career Mind Map</h4>
                                <div id="careerMindMap" class="mind-map-container">
                                    <!-- Mind map will be rendered here -->
                                </div>
                            </div>
                        </div>

                        <!-- Sidebar Info -->
                        <div>
                            <!-- Salary Info -->
                            <div class="bg-gradient-to-r from-green-400 to-green-600 text-white rounded-lg p-6 mb-6">
                                <h4 class="text-lg font-semibold mb-3">💰 Salary Range</h4>
                                <div id="salaryInfo">
                                    <!-- Salary details will be loaded here -->
                                </div>
                            </div>

                            <!-- Skills Required -->
                            <div class="bg-gray-50 rounded-lg p-6 mb-6">
                                <h4 class="text-lg font-semibold mb-3">🛠️ Required Skills</h4>
                                <div id="requiredSkills" class="flex flex-wrap gap-2">
                                    <!-- Skills will be loaded here -->
                                </div>
                            </div>

                            <!-- Top Recruiters -->
                            <div class="bg-gray-50 rounded-lg p-6 mb-6">
                                <h4 class="text-lg font-semibold mb-3">🏢 Top Recruiters</h4>
                                <div id="topRecruiters">
                                    <!-- Recruiters will be loaded here -->
                                </div>
                            </div>

                            <!-- Challenges & Solutions -->
                            <div class="bg-gray-50 rounded-lg p-6 mb-6">
                                <h4 class="text-lg font-semibold mb-3">⚡ Challenges & Solutions</h4>
                                <div id="challengesSolutions">
                                    <!-- Challenges and solutions will be loaded here -->
                                </div>
                            </div>

                            <!-- Learning Resources -->
                            <div class="bg-gray-50 rounded-lg p-6">
                                <h4 class="text-lg font-semibold mb-3">📚 Learning Resources</h4>
                                <div id="learningResources">
                                    <!-- Resources will be loaded here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scholarships Section -->
        <section id="scholarshipsSection" class="min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 py-20 hidden">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center mb-4 text-gray-800">Scholarships & Financial Aid</h2>
                <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">
                    Discover scholarships, grants, and financial aid opportunities for your education and career development.
                </p>

                <!-- Scholarship Filters -->
                <div class="bg-white rounded-lg shadow-md p-6 mb-8">
                    <div class="grid md:grid-cols-4 gap-4">
                        <select id="scholarshipType" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
                            <option value="">All Types</option>
                            <option value="merit">Merit-based</option>
                            <option value="need">Need-based</option>
                            <option value="minority">Minority</option>
                            <option value="women">Women</option>
                            <option value="international">International</option>
                        </select>
                        
                        <select id="scholarshipLevel" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
                            <option value="">All Levels</option>
                            <option value="undergraduate">Undergraduate</option>
                            <option value="graduate">Graduate</option>
                            <option value="phd">PhD</option>
                            <option value="research">Research</option>
                        </select>
                        
                        <select id="scholarshipCountry" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
                            <option value="">All Countries</option>
                            <option value="india">India</option>
                            <option value="usa">USA</option>
                            <option value="uk">UK</option>
                            <option value="canada">Canada</option>
                            <option value="australia">Australia</option>
                            <option value="germany">Germany</option>
                        </select>
                        
                        <button onclick="filterScholarships()" class="bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 transition duration-300">
                            Search
                        </button>
                    </div>
                </div>

                <!-- Scholarships Grid -->
                <div id="scholarshipsGrid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Scholarship cards will be loaded here -->
                </div>
            </div>
        </section>

        <!-- Counselling Section -->
        <section id="counsellingSection" class="min-h-screen bg-gradient-to-br from-teal-50 to-cyan-50 py-20 hidden">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center mb-4 text-gray-800">Career Counselling</h2>
                <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">
                    Get personalized career guidance through our AI-powered chatbot and connect with professional counsellors.
                </p>

                <div class="grid md:grid-cols-2 gap-8">
                    <!-- AI Chatbot -->
                    <div class="bg-white rounded-lg shadow-lg">
                        <div class="bg-teal-600 text-white p-4 rounded-t-lg">
                            <h3 class="text-xl font-semibold flex items-center">
                                🤖 AI Career Assistant
                                <span class="ml-2 w-3 h-3 bg-green-400 rounded-full animate-pulse"></span>
                            </h3>
                        </div>
                        
                        <div id="chatContainer" class="chatbot-container p-4 space-y-4">
                            <div class="message-bubble bot-message p-3 rounded-lg">
                                Hello! I'm your AI career assistant. I can help you with career guidance, exam preparation, skill development, and overcoming challenges. How can I assist you today?
                            </div>
                        </div>
                        
                        <div class="p-4 border-t">
                            <div class="flex space-x-2">
                                <input type="text" id="chatInput" placeholder="Type your question..." class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500" onkeypress="handleChatInput(event)">
                                <button onclick="sendMessage()" class="bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700 transition duration-300">
                                    Send
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Counselling Options -->
                    <div>
                        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                            <h3 class="text-xl font-semibold mb-4">Professional Counselling</h3>
                            <div class="space-y-4">
                                <div class="border border-gray-200 rounded-lg p-4">
                                    <h4 class="font-semibold text-teal-600">1-on-1 Video Session</h4>
                                    <p class="text-gray-600 text-sm mb-2">60-minute personalized career counselling session</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-semibold">₹999</span>
                                        <button class="bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700 transition duration-300">
                                            Book Now
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="border border-gray-200 rounded-lg p-4">
                                    <h4 class="font-semibold text-teal-600">Group Workshop</h4>
                                    <p class="text-gray-600 text-sm mb-2">Career exploration workshop (5-10 participants)</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-semibold">₹499</span>
                                        <button class="bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700 transition duration-300">
                                            Join Next
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Location-based Counselling -->
                        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                            <h3 class="text-xl font-semibold mb-4">Local Counselling Centers</h3>
                            <div id="localCenters">
                                <!-- Location-based centers will be loaded here -->
                            </div>
                        </div>

                        <!-- FAQs -->
                        <div class="bg-white rounded-lg shadow-lg p-6">
                            <h3 class="text-xl font-semibold mb-4">Frequently Asked Questions</h3>
                            <div class="space-y-3">
                                <div class="border-b pb-3">
                                    <button class="w-full text-left font-semibold text-gray-800 hover:text-teal-600 transition duration-300" onclick="toggleFAQ(1)">
                                        How do I overcome exam stress? ▼
                                    </button>
                                    <div id="faq1" class="hidden mt-2 text-gray-600 text-sm">
                                        Practice relaxation techniques, maintain a study schedule, take regular breaks, and focus on your preparation rather than the outcome.
                                    </div>
                                </div>
                                
                                <div class="border-b pb-3">
                                    <button class="w-full text-left font-semibold text-gray-800 hover:text-teal-600 transition duration-300" onclick="toggleFAQ(2)">
                                        How do I build confidence for interviews? ▼
                                    </button>
                                    <div id="faq2" class="hidden mt-2 text-gray-600 text-sm">
                                        Practice mock interviews, research the company, prepare common questions, and focus on your achievements and skills.
                                    </div>
                                </div>
                                
                                <div class="border-b pb-3">
                                    <button class="w-full text-left font-semibold text-gray-800 hover:text-teal-600 transition duration-300" onclick="toggleFAQ(3)">
                                        What if I'm confused about my career path? ▼
                                    </button>
                                    <div id="faq3" class="hidden mt-2 text-gray-600 text-sm">
                                        Take our career assessment quizzes, explore different fields through internships, talk to professionals, and consider your interests and values.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
                            <span class="text-white font-bold text-xl">CC</span>
                        </div>
                        <span class="text-2xl font-bold">Career Compass</span>
                    </div>
                    <p class="text-gray-400">
                        Guiding students to their dream careers with AI-powered recommendations and comprehensive resources.
                    </p>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">Quick Links</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" onclick="showSection('home')" class="hover:text-white transition duration-300">Home</a></li>
                        <li><a href="#" onclick="showSection('quiz')" class="hover:text-white transition duration-300">Career Quiz</a></li>
                        <li><a href="#" onclick="showSection('careers')" class="hover:text-white transition duration-300">Explore Careers</a></li>
                        <li><a href="#" onclick="showSection('scholarships')" class="hover:text-white transition duration-300">Scholarships</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">Resources</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white transition duration-300">Study Materials</a></li>
                        <li><a href="#" class="hover:text-white transition duration-300">Mock Tests</a></li>
                        <li><a href="#" class="hover:text-white transition duration-300">Career Blogs</a></li>
                        <li><a href="#" class="hover:text-white transition duration-300">Success Stories</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">Contact</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li>📧 support@careercompass.com</li>
                        <li>📱 +91-9876543210</li>
                        <li>📍 Mumbai, India</li>
                        <li class="flex space-x-3 mt-4">
                            <a href="#" class="hover:text-blue-400 transition duration-300">📘 Facebook</a>
                            <a href="#" class="hover:text-blue-400 transition duration-300">🐦 Twitter</a>
                            <a href="#" class="hover:text-pink-400 transition duration-300">📷 Instagram</a>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2025 Career Compass. All rights reserved. | Made with ❤️ for students worldwide</p>
            </div>
        </div>
    </footer>

    <script>
        // Global Variables
        let currentUser = null;
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let quizAnswers = [];
        let isDarkMode = false;
        let careers = [];
        let displayedCareers = [];
        let careersPerPage = 9;
        let currentPage = 0;

        // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                document.getElementById('loadingScreen').style.display = 'none';
                initializeApp();
            }, 2000);
        });

        function initializeApp() {
            // Check if user is logged in
            const savedUser = JSON.parse(sessionStorage.getItem('currentUser') || 'null');
            if (savedUser) {
                currentUser = savedUser;
                hideAuthModal();
                updateUserProfile();
                loadDashboard();
            } else {
                showAuthModal();
            }

            // Initialize careers data
            generateCareersDatabase();
            
            // Setup event listeners
            setupEventListeners();
            
            // Load initial data
            loadLatestOpportunities();
            loadScholarships();
            loadLocationBasedCenters();
        }

        function setupEventListeners() {
            // Auth tabs
            document.getElementById('loginTab').addEventListener('click', () => switchAuthTab('login'));
            document.getElementById('registerTab').addEventListener('click', () => switchAuthTab('register'));
            
            // Auth forms
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            document.getElementById('registerForm').addEventListener('submit', handleRegister);
            
            // Theme toggle
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
            
            // Search and filters
            document.getElementById('careerSearch').addEventListener('input', debounce(filterCareers, 300));
            document.getElementById('categoryFilter').addEventListener('change', filterCareers);
            document.getElementById('salaryFilter').addEventListener('change', filterCareers);
        }

        // Authentication Functions
        function switchAuthTab(tab) {
            const loginTab = document.getElementById('loginTab');
            const registerTab = document.getElementById('registerTab');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');

            if (tab === 'login') {
                loginTab.className = 'flex-1 py-2 text-center border-b-2 border-blue-500 text-blue-500 font-semibold';
                registerTab.className = 'flex-1 py-2 text-center border-b-2 border-gray-300 text-gray-500';
                loginForm.classList.remove('hidden');
                registerForm.classList.add('hidden');
            } else {
                registerTab.className = 'flex-1 py-2 text-center border-b-2 border-blue-500 text-blue-500 font-semibold';
                loginTab.className = 'flex-1 py-2 text-center border-b-2 border-gray-300 text-gray-500';
                registerForm.classList.remove('hidden');
                loginForm.classList.add('hidden');
            }
        }

        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            // Simple validation (in real app, this would be server-side)
            const users = JSON.parse(sessionStorage.getItem('users') || '[]');
            const user = users.find(u => u.email === email && u.password === password);

            if (user) {
                currentUser = user;
                sessionStorage.setItem('currentUser', JSON.stringify(user));
                hideAuthModal();
                updateUserProfile();
                showNotification('Login successful!', 'success');
                loadDashboard();
                showSection('dashboard');
            } else {
                showNotification('Invalid credentials!', 'error');
            }
        }

        function handleRegister(e) {
            e.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const location = document.getElementById('registerLocation').value;
            const education = document.getElementById('registerEducation').value;

            const users = JSON.parse(sessionStorage.getItem('users') || '[]');
            
            // Check if user already exists
            if (users.find(u => u.email === email)) {
                showNotification('User already exists!', 'error');
                return;
            }

            const newUser = {
                id: Date.now(),
                name,
                email,
                password,
                location,
                education,
                joinDate: new Date().toISOString(),
                quizResults: {},
                savedCareers: [],
                preferences: {}
            };

            users.push(newUser);
            sessionStorage.setItem('users', JSON.stringify(users));
            
            currentUser = newUser;
            sessionStorage.setItem('currentUser', JSON.stringify(newUser));
            
            hideAuthModal();
            updateUserProfile();
            showNotification('Registration successful!', 'success');
            showSection('dashboard');
        }

        function showAuthModal() {
            document.getElementById('authModal').classList.remove('hidden');
        }

        function hideAuthModal() {
            document.getElementById('authModal').classList.add('hidden');
        }

        function updateUserProfile() {
            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('userAvatar').textContent = currentUser.name.charAt(0).toUpperCase();
        }

        // Navigation Functions
        function showSection(sectionName) {
            // Hide all sections
            const sections = ['homeSection', 'dashboardSection', 'quizSection', 'careersSection', 'scholarshipsSection', 'counsellingSection'];
            sections.forEach(section => {
                document.getElementById(section).classList.add('hidden');
            });

            // Show selected section
            document.getElementById(sectionName + 'Section').classList.remove('hidden');

            // Load section-specific data
            switch(sectionName) {
                case 'dashboard':
                    loadDashboard();
                    break;
                case 'careers':
                    loadCareers();
                    break;
                case 'scholarships':
                    loadScholarships();
                    break;
                case 'counselling':
                    loadCounsellingData();
                    break;
            }
        }

        // Dashboard Functions
        function loadDashboard() {
            if (!currentUser) return;

            // Update profile overview
            document.getElementById('userEducation').textContent = currentUser.education || 'Not specified';
            document.getElementById('userLocation').textContent = currentUser.location || 'Not specified';
            
            // Update quiz progress
            updateQuizProgress();
            
            // Load recommended careers
            loadRecommendedCareers();
            
            // Load saved careers
            loadSavedCareers();
        }

        function updateQuizProgress() {
            const quizResults = currentUser.quizResults || {};
            let completedQuizzes = 0;
            
            ['interest', 'aptitude', 'personality'].forEach(quizType => {
                const progress = quizResults[quizType] ? 100 : 0;
                document.getElementById(quizType + 'QuizProgress').textContent = progress + '%';
                document.getElementById(quizType + 'QuizBar').style.width = progress + '%';
                if (progress === 100) completedQuizzes++;
            });
            
            document.getElementById('quizzesCompleted').textContent = `${completedQuizzes}/3`;
        }

        function loadRecommendedCareers() {
            const container = document.getElementById('recommendedCareers');
            const quizResults = currentUser.quizResults || {};
            
            if (Object.keys(quizResults).length === 0) {
                container.innerHTML = '<p class="text-gray-600">Complete the career quiz to get personalized recommendations</p>';
                return;
            }

            // Simple recommendation logic based on quiz results
            const recommendations = getCareerRecommendations(quizResults);
            
            container.innerHTML = recommendations.map(career => `
                <div class="bg-gray-50 rounded-lg p-3 cursor-pointer hover:bg-gray-100 transition duration-300" onclick="showCareerDetails('${career.id}')">
                    <h5 class="font-semibold text-blue-600">${career.name}</h5>
                    <p class="text-sm text-gray-600">${career.category}</p>
                </div>
            `).join('');
        }

        function loadSavedCareers() {
            const container = document.getElementById('savedCareers');
            const savedCareers = currentUser.savedCareers || [];
            
            if (savedCareers.length === 0) {
                container.innerHTML = '<p class="text-gray-600">No careers saved yet</p>';
                return;
            }
            
            container.innerHTML = savedCareers.map(careerId => {
                const career = careers.find(c => c.id === careerId);
                return career ? `
                    <div class="bg-gray-50 rounded-lg p-3 cursor-pointer hover:bg-gray-100 transition duration-300" onclick="showCareerDetails('${career.id}')">
                        <h5 class="font-semibold text-blue-600">${career.name}</h5>
                        <p class="text-sm text-gray-600">${career.category}</p>
                    </div>
                ` : '';
            }).join('');
        }

        function loadLatestOpportunities() {
            // Simulate API call for opportunities
            setTimeout(() => {
                const opportunities = [
                    {
                        title: "Software Developer Internship at Google",
                        type: "Internship",
                        location: "Mumbai",
                        deadline: "2025-10-15"
                    },
                    {
                        title: "GATE Scholarship Program",
                        type: "Scholarship",
                        amount: "₹50,000",
                        deadline: "2025-11-30"
                    },
                    {
                        title: "Data Science Bootcamp",
                        type: "Course",
                        provider: "Coursera",
                        duration: "3 months"
                    }
                ];

                const container = document.getElementById('latestOpportunities');
                container.innerHTML = opportunities.map(opp => `
                    <div class="bg-white border rounded-lg p-4 mb-4">
                        <h5 class="font-semibold text-gray-800">${opp.title}</h5>
                        <p class="text-sm text-gray-600 mb-2">
                            ${opp.type} • ${opp.location || opp.provider || opp.amount}
                        </p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-gray-500">
                                ${opp.deadline ? 'Deadline: ' + opp.deadline : opp.duration || ''}
                            </span>
                            <button class="text-blue-600 text-sm font-semibold hover:underline">
                                Learn More
                            </button>
                        </div>
                    </div>
                `).join('');
            }, 1000);
        }

        // Quiz Functions
        const quizData = {
            interest: {
                title: "Career Interest Assessment",
                questions: [
                    {
                        question: "What type of activities do you enjoy most?",
                        type: "multiple",
                        options: [
                            { text: "Working with technology and computers", value: "technology" },
                            { text: "Helping and caring for others", value: "healthcare" },
                            { text: "Creative and artistic pursuits", value: "arts" },
                            { text: "Business and entrepreneurship", value: "business" },
                            { text: "Teaching and education", value: "education" }
                        ]
                    },
                    {
                        question: "Which work environment appeals to you most?",
                        type: "multiple",
                        options: [
                            { text: "Office or corporate setting", value: "business" },
                            { text: "Laboratory or research facility", value: "science" },
                            { text: "Hospital or clinic", value: "healthcare" },
                            { text: "School or university", value: "education" },
                            { text: "Outdoor or field work", value: "outdoor" }
                        ]
                    },
                    {
                        question: "How important is job security to you?",
                        type: "likert",
                        scale: 5,
                        labels: ["Not Important", "Slightly Important", "Moderately Important", "Very Important", "Extremely Important"]
                    },
                    {
                        question: "How much do you value work-life balance?",
                        type: "likert",
                        scale: 5,
                        labels: ["Not Important", "Slightly Important", "Moderately Important", "Very Important", "Extremely Important"]
                    },
                    {
                        question: "Which subjects did you enjoy most in school?",
                        type: "multiple",
                        options: [
                            { text: "Mathematics and Physics", value: "stem" },
                            { text: "Biology and Chemistry", value: "life_sciences" },
                            { text: "History and Literature", value: "humanities" },
                            { text: "Art and Music", value: "arts" },
                            { text: "Economics and Business Studies", value: "business" }
                        ]
                    }
                ]
            },
            aptitude: {
                title: "Aptitude Assessment",
                questions: [
                    {
                        question: "If a train travels 60 km in 45 minutes, what is its speed in km/h?",
                        type: "multiple",
                        options: [
                            { text: "60 km/h", value: "wrong" },
                            { text: "75 km/h", value: "wrong" },
                            { text: "80 km/h", value: "correct" },
                            { text: "90 km/h", value: "wrong" }
                        ]
                    },
                    {
                        question: "Which number comes next in the sequence: 2, 6, 12, 20, 30, ?",
                        type: "multiple",
                        options: [
                            { text: "40", value: "wrong" },
                            { text: "42", value: "correct" },
                            { text: "44", value: "wrong" },
                            { text: "46", value: "wrong" }
                        ]
                    },
                    {
                        question: "How confident are you in solving complex problems?",
                        type: "likert",
                        scale: 5,
                        labels: ["Not Confident", "Slightly Confident", "Moderately Confident", "Very Confident", "Extremely Confident"]
                    },
                    {
                        question: "Rate your creative thinking abilities:",
                        type: "likert",
                        scale: 5,
                        labels: ["Poor", "Below Average", "Average", "Above Average", "Excellent"]
                    },
                    {
                        question: "How do you approach learning new concepts?",
                        type: "multiple",
                        options: [
                            { text: "Visual learning with diagrams and charts", value: "visual" },
                            { text: "Reading and writing notes", value: "reading" },
                            { text: "Hands-on practice and experimentation", value: "kinesthetic" },
                            { text: "Discussion and verbal explanation", value: "auditory" }
                        ]
                    }
                ]
            },
            personality: {
                title: "Personality Assessment",
                questions: [
                    {
                        question: "In group settings, you typically:",
                        type: "multiple",
                        options: [
                            { text: "Take charge and lead discussions", value: "leadership" },
                            { text: "Contribute ideas when asked", value: "collaborative" },
                            { text: "Prefer to listen and observe", value: "analytical" },
                            { text: "Work better independently", value: "independent" }
                        ]
                    },
                    {
                        question: "When facing a deadline, you:",
                        type: "multiple",
                        options: [
                            { text: "Plan ahead and work steadily", value: "organized" },
                            { text: "Work best under pressure", value: "adaptive" },
                            { text: "Break tasks into smaller parts", value: "systematic" },
                            { text: "Seek help from others", value: "collaborative" }
                        ]
                    },
                    {
                        question: "Rate your communication skills:",
                        type: "likert",
                        scale: 5,
                        labels: ["Poor", "Below Average", "Average", "Above Average", "Excellent"]
                    },
                    {
                        question: "How comfortable are you with public speaking?",
                        type: "likert",
                        scale: 5,
                        labels: ["Very Uncomfortable", "Uncomfortable", "Neutral", "Comfortable", "Very Comfortable"]
                    },
                    {
                        question: "Your ideal work style is:",
                        type: "multiple",
                        options: [
                            { text: "Structured with clear guidelines", value: "structured" },
                            { text: "Flexible with room for creativity", value: "creative" },
                            { text: "Collaborative team environment", value: "team" },
                            { text: "Independent with minimal supervision", value: "independent" }
                        ]
                    }
                ]
            }
        };

        function startQuiz(quizType) {
            currentQuiz = quizType;
            currentQuestionIndex = 0;
            quizAnswers = [];
            
            document.getElementById('quizContainer').classList.remove('hidden');
            document.getElementById('quizResults').classList.add('hidden');
            
            loadQuestion();
        }

        function loadQuestion() {
            const quiz = quizData[currentQuiz];
            const question = quiz.questions[currentQuestionIndex];
            
            document.getElementById('quizTitle').textContent = quiz.title;
            document.getElementById('quizProgress').textContent = `Question ${currentQuestionIndex + 1} of ${quiz.questions.length}`;
            
            const progress = ((currentQuestionIndex + 1) / quiz.questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            const container = document.getElementById('questionContainer');
            
            if (question.type === 'multiple') {
                container.innerHTML = `
                    <h4 class="text-xl font-semibold mb-6">${question.question}</h4>
                    <div class="space-y-3">
                        ${question.options.map((option, index) => `
                            <label class="flex items-center space-x-3 p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition duration-300">
                                <input type="radio" name="question${currentQuestionIndex}" value="${option.value}" class="text-blue-600">
                                <span>${option.text}</span>
                            </label>
                        `).join('')}
                    </div>
                `;
            } else if (question.type === 'likert') {
                container.innerHTML = `
                    <h4 class="text-xl font-semibold mb-6">${question.question}</h4>
                    <div class="space-y-4">
                        <div class="flex justify-between text-sm text-gray-600 mb-2">
                            <span>${question.labels[0]}</span>
                            <span>${question.labels[question.labels.length - 1]}</span>
                        </div>
                        <div class="flex justify-between space-x-2">
                            ${Array.from({length: question.scale}, (_, i) => `
                                <label class="flex flex-col items-center cursor-pointer">
                                    <input type="radio" name="question${currentQuestionIndex}" value="${i + 1}" class="mb-2">
                                    <span class="text-xs text-center">${question.labels[i] || i + 1}</span>
                                </label>
                            `).join('')}
                        </div>
                    </div>
                `;
            }
            
            // Update navigation buttons
            document.getElementById('prevQuestion').disabled = currentQuestionIndex === 0;
            document.getElementById('nextQuestion').textContent = 
                currentQuestionIndex === quiz.questions.length - 1 ? 'Finish Quiz' : 'Next';
        }

        function nextQuestion() {
            const selectedAnswer = document.querySelector(`input[name="question${currentQuestionIndex}"]:checked`);
            
            if (!selectedAnswer) {
                showNotification('Please select an answer before proceeding', 'error');
                return;
            }
            
            quizAnswers[currentQuestionIndex] = selectedAnswer.value;
            
            if (currentQuestionIndex < quizData[currentQuiz].questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                finishQuiz();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function finishQuiz() {
            // Save quiz results
            if (!currentUser.quizResults) {
                currentUser.quizResults = {};
            }
            
            currentUser.quizResults[currentQuiz] = {
                answers: quizAnswers,
                completedAt: new Date().toISOString(),
                score: calculateQuizScore()
            };
            
            // Update user in storage
            sessionStorage.setItem('currentUser', JSON.stringify(currentUser));
            const users = JSON.parse(sessionStorage.getItem('users') || '[]');
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            if (userIndex !== -1) {
                users[userIndex] = currentUser;
                sessionStorage.setItem('users', JSON.stringify(users));
            }
            
            // Show results
            showQuizResults();
        }

        function calculateQuizScore() {
            // Simple scoring logic - can be made more sophisticated
            let score = 0;
            quizAnswers.forEach(answer => {
                if (answer === 'correct') score += 10;
                else if (typeof answer === 'string' && !isNaN(answer)) score += parseInt(answer) * 2;
                else score += 5;
            });
            return Math.min(score, 100);
        }

        function showQuizResults() {
            document.getElementById('quizContainer').classList.add('hidden');
            document.getElementById('quizResults').classList.remove('hidden');
            
            const score = currentUser.quizResults[currentQuiz].score;
            const recommendations = getQuizRecommendations(currentQuiz, quizAnswers);
            
            document.getElementById('resultsContent').innerHTML = `
                <div class="text-center mb-8">
                    <div class="w-32 h-32 mx-auto mb-4 relative">
                        <svg class="w-32 h-32 transform -rotate-90">
                            <circle cx="64" cy="64" r="56" stroke="#e5e7eb" stroke-width="8" fill="transparent" />
                            <circle cx="64" cy="64" r="56" stroke="#3b82f6" stroke-width="8" fill="transparent"
                                stroke-dasharray="${351.858}" stroke-dashoffset="${351.858 - (score / 100) * 351.858}"
                                class="transition-all duration-1000 ease-out" />
                        </svg>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span class="text-2xl font-bold text-blue-600">${score}%</span>
                        </div>
                    </div>
                    <h4 class="text-2xl font-semibold text-gray-800">Quiz Completed!</h4>
                    <p class="text-gray-600 mt-2">Here are your personalized recommendations:</p>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6">
                    ${recommendations.map(rec => `
                        <div class="bg-gray-50 rounded-lg p-6">
                            <h5 class="text-lg font-semibold text-blue-600 mb-2">${rec.title}</h5>
                            <p class="text-gray-700 mb-3">${rec.description}</p>
                            <div class="flex flex-wrap gap-2">
                                ${rec.careers.map(career => `
                                    <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">${career}</span>
                                `).join('')}
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            
            showNotification('Quiz completed successfully!', 'success');
        }

        function getQuizRecommendations(quizType, answers) {
            // Simplified recommendation logic
            const recommendations = {
                interest: [
                    {
                        title: "Technology & Innovation",
                        description: "You show strong interest in technology and problem-solving.",
                        careers: ["Software Developer", "Data Scientist", "Cybersecurity Analyst", "AI Engineer"]
                    },
                    {
                        title: "Creative & Artistic",
                        description: "Your creative mindset aligns with artistic and design fields.",
                        careers: ["Graphic Designer", "Content Creator", "Marketing Specialist", "Architect"]
                    }
                ],
                aptitude: [
                    {
                        title: "Analytical & Logical",
                        description: "Strong analytical skills indicate suitability for technical roles.",
                        careers: ["Software Engineer", "Data Analyst", "Research Scientist", "Financial Analyst"]
                    },
                    {
                        title: "Creative Problem Solver",
                        description: "Creative thinking abilities suit innovative and design roles.",
                        careers: ["Product Manager", "UX Designer", "Innovation Consultant", "Entrepreneur"]
                    }
                ],
                personality: [
                    {
                        title: "Natural Leader",
                        description: "Leadership qualities make you suitable for management roles.",
                        careers: ["Project Manager", "Business Analyst", "Team Lead", "Consultant"]
                    },
                    {
                        title: "Independent Worker",
                        description: "Self-directed work style suits autonomous roles.",
                        careers: ["Freelance Developer", "Researcher", "Writer", "Consultant"]
                    }
                ]
            };
            
            return recommendations[quizType] || [];
        }

        function getCareerRecommendations(quizResults) {
            // Simple recommendation algorithm based on quiz results
            let recommendations = [];
            
            if (quizResults.interest) {
                const interests = quizResults.interest.answers;
                if (interests.includes('technology')) {
                    recommendations.push(...careers.filter(c => c.category === 'technology').slice(0, 2));
                }
                if (interests.includes('healthcare')) {
                    recommendations.push(...careers.filter(c => c.category === 'healthcare').slice(0, 2));
                }
            }
            
            // Ensure we have at least 5 recommendations
            while (recommendations.length < 5 && recommendations.length < careers.length) {
                const randomCareer = careers[Math.floor(Math.random() * careers.length)];
                if (!recommendations.find(r => r.id === randomCareer.id)) {
                    recommendations.push(randomCareer);
                }
            }
            
            return recommendations.slice(0, 5);
        }

        // Career Database Functions
        function generateCareersDatabase() {
            careers = [
                // Technology Careers
                {
                    id: 'software-engineer',
                    name: 'Software Engineer',
                    category: 'technology',
                    description: 'Design, develop, and maintain software applications and systems.',
                    salary: { min: 400000, max: 2500000, currency: 'INR' },
                    education: 'Bachelor\'s in Computer Science or related field',
                    skills: ['Programming', 'Problem Solving', 'System Design', 'Testing', 'Version Control'],
                    roadmap: [
                        'Complete Bachelor\'s degree in Computer Science/IT',
                        'Learn programming languages (Java, Python, C++)',
                        'Build projects and contribute to open source',
                        'Gain internship experience',
                        'Apply for entry-level positions',
                        'Continuously learn new technologies'
                    ],
                    recruiters: ['Google', 'Microsoft', 'Amazon', 'TCS', 'Infosys', 'Wipro'],
                    challenges: [
                        'Keeping up with rapidly evolving technology',
                        'Debugging complex issues',
                        'Meeting tight deadlines'
                    ],
                    solutions: [
                        'Continuous learning and professional development',
                        'Building strong problem-solving skills',
                        'Effective time management and project planning'
                    ],
                    resources: [
                        'GitHub - Open source projects',
                        'LeetCode - Programming practice',
                        'Coursera - Software Development courses',
                        'Stack Overflow - Developer community'
                    ],
                    scholarships: [
                        'Google Summer of Code',
                        'Microsoft Student Partner Program',
                        'GitHub Campus Expert Program'
                    ]
                },
                {
                    id: 'data-scientist',
                    name: 'Data Scientist',
                    category: 'technology',
                    description: 'Analyze complex data to help organizations make informed decisions.',
                    salary: { min: 600000, max: 3000000, currency: 'INR' },
                    education: 'Bachelor\'s in Mathematics, Statistics, Computer Science, or related field',
                    skills: ['Python/R', 'Machine Learning', 'Statistics', 'Data Visualization', 'SQL'],
                    roadmap: [
                        'Complete Bachelor\'s degree in relevant field',
                        'Learn programming (Python/R) and statistics',
                        'Master machine learning algorithms',
                        'Work on data science projects',
                        'Gain experience through internships',
                        'Build a strong portfolio on GitHub'
                    ],
                    recruiters: ['Netflix', 'Uber', 'Flipkart', 'Amazon', 'Google', 'Facebook'],
                    challenges: [
                        'Dealing with messy and incomplete data',
                        'Translating business problems into technical solutions',
                        'Explaining complex findings to non-technical stakeholders'
                    ],
                    solutions: [
                        'Develop strong data cleaning and preprocessing skills',
                        'Practice problem-solving and analytical thinking',
                        'Improve communication and presentation skills'
                    ],
                    resources: [
                        'Kaggle - Data science competitions',
                        'Coursera - Data Science specializations',
                        'edX - MIT Introduction to Data Science',
                        'YouTube - StatQuest channel'
                    ],
                    scholarships: [
                        'Kaggle Learn Scholarships',
                        'Google AI Education Scholarships',
                        'IBM Data Science Scholarships'
                    ]
                },

                // Healthcare Careers
                {
                    id: 'doctor',
                    name: 'Medical Doctor',
                    category: 'healthcare',
                    description: 'Diagnose and treat illnesses, injuries, and health conditions.',
                    salary: { min: 800000, max: 5000000, currency: 'INR' },
                    education: 'MBBS followed by specialization (MD/MS)',
                    skills: ['Medical Knowledge', 'Patient Care', 'Communication', 'Decision Making', 'Empathy'],
                    roadmap: [
                        'Complete 12th with PCB (Physics, Chemistry, Biology)',
                        'Clear NEET entrance exam',
                        'Complete 5.5 years MBBS program',
                        'Complete 1 year mandatory internship',
                        'Choose specialization and complete MD/MS',
                        'Obtain medical license and start practice'
                    ],
                    recruiters: ['AIIMS', 'Apollo Hospitals', 'Fortis Healthcare', 'Max Healthcare', 'Government Hospitals'],
                    challenges: [
                        'Long and demanding education period',
                        'High stress and emotional demands',
                        'Keeping up with medical advances'
                    ],
                    solutions: [
                        'Develop strong time management and study habits',
                        'Build emotional resilience and stress management skills',
                        'Engage in continuous medical education'
                    ],
                    resources: [
                        'NCBI - Medical literature database',
                        'Medscape - Medical news and education',
                        'Khan Academy - Medicine courses',
                        'BMJ Learning - Medical education'
                    ],
                    scholarships: [
                        'National Merit Scholarships for Medical Students',
                        'State Government Medical Scholarships',
                        'Private Medical College Scholarships'
                    ]
                },

                // Government/Civil Services
                {
                    id: 'ias-officer',
                    name: 'IAS Officer',
                    category: 'government',
                    description: 'Administrative service officer responsible for policy implementation and governance.',
                    salary: { min: 560000, max: 2500000, currency: 'INR' },
                    education: 'Bachelor\'s degree in any discipline',
                    skills: ['Leadership', 'Public Administration', 'Policy Analysis', 'Communication', 'Decision Making'],
                    roadmap: [
                        'Complete Bachelor\'s degree in any field',
                        'Prepare for UPSC Civil Services Examination',
                        'Clear Preliminary and Main examinations',
                        'Pass the Personality Test (Interview)',
                        'Complete training at LBSNAA',
                        'Start career as Assistant Collector/SDM'
                    ],
                    recruiters: ['Central Government', 'State Governments', 'District Administration'],
                    challenges: [
                        'Highly competitive examination',
                        'Multiple attempts may be required',
                        'Balancing political and administrative pressures'
                    ],
                    solutions: [
                        'Develop comprehensive study plan and stick to it',
                        'Practice answer writing and mock interviews',
                        'Build strong ethical foundation and integrity'
                    ],
                    resources: [
                        'NCERT Books - Foundation knowledge',
                        'The Hindu - Current affairs',
                        'PIB - Government policies and schemes',
                        'UPSC official website'
                    ],
                    scholarships: [
                        'Post-matric Scholarships for SC/ST/OBC',
                        'Merit-cum-Means Scholarships',
                        'State Government Scholarships for Civil Services preparation'
                    ]
                },

                // Defense Careers
                {
                    id: 'indian-army-officer',
                    name: 'Indian Army Officer',
                    category: 'defense',
                    description: 'Military officer responsible for national defense and security operations.',
                    salary: { min: 694000, max: 2500000, currency: 'INR' },
                    education: 'Bachelor\'s degree for most entries, 12th for some technical entries',
                    skills: ['Leadership', 'Physical Fitness', 'Strategic Thinking', 'Team Management', 'Decision Making'],
                    roadmap: [
                        'Complete 12th/Bachelor\'s degree based on entry scheme',
                        'Prepare for relevant entrance exam (NDA/CDS/AFCAT)',
                        'Clear written examination and SSB interview',
                        'Complete training at respective service academy',
                        'Commission as Lieutenant/Flying Officer/Sub Lieutenant',
                        'Progress through various ranks with experience'
                    ],
                    recruiters: ['Indian Army', 'Indian Navy', 'Indian Air Force', 'Coast Guard'],
                    challenges: [
                        'Rigorous physical and mental training',
                        'Long periods away from family',
                        'High-stress operational environments'
                    ],
                    solutions: [
                        'Maintain excellent physical fitness',
                        'Develop mental resilience and adaptability',
                        'Build strong support network with family'
                    ],
                    resources: [
                        'SSBCrack - Defense preparation portal',
                        'YouTube - Major Kalshi Classes',
                        'Cavalier India - SSB preparation',
                        'Official defense websites'
                    ],
                    scholarships: [
                        'Defense scholarships for wards of defense personnel',
                        'Merit scholarships in defense academies',
                        'State government scholarships for defense aspirants'
                    ]
                },

                // Non-technical careers
                {
                    id: 'chartered-accountant',
                    name: 'Chartered Accountant (CA)',
                    category: 'finance',
                    description: 'Professional accountant specializing in auditing, taxation, and financial consulting.',
                    salary: { min: 700000, max: 5000000, currency: 'INR' },
                    education: 'CA qualification from ICAI',
                    skills: ['Accounting', 'Taxation', 'Auditing', 'Financial Analysis', 'Business Advisory'],
                    roadmap: [
                        'Complete 12th with Commerce/any stream',
                        'Register for CA Foundation course',
                        'Clear CA Foundation examination',
                        'Complete CA Intermediate with articleship',
                        'Clear CA Final examination',
                        'Complete 3 years articleship training'
                    ],
                    recruiters: ['Big 4 Firms', 'Banks', 'MNCs', 'Government', 'Private Practice'],
                    challenges: [
                        'Long and rigorous study period',
                        'Low pass rates in examinations',
                        'Balancing studies with articleship'
                    ],
                    solutions: [
                        'Develop disciplined study routine',
                        'Join coaching classes for guidance',
                        'Practice extensively with mock tests'
                    ],
                    resources: [
                        'ICAI study materials',
                        'CA preparation institutes',
                        'YouTube - CA coaching channels',
                        'Practice manuals and reference books'
                    ],
                    scholarships: [
                        'ICAI scholarships for meritorious students',
                        'State government scholarships',
                        'Private CA firm scholarships'
                    ]
                },

                {
                    id: 'teacher',
                    name: 'Teacher/Educator',
                    category: 'education',
                    description: 'Educate and guide students in academic and personal development.',
                    salary: { min: 300000, max: 1200000, currency: 'INR' },
                    education: 'Bachelor\'s degree with B.Ed qualification',
                    skills: ['Subject Knowledge', 'Communication', 'Patience', 'Creativity', 'Classroom Management'],
                    roadmap: [
                        'Complete Bachelor\'s degree in relevant subject',
                        'Complete B.Ed (Bachelor of Education) program',
                        'Clear TET (Teacher Eligibility Test)',
                        'Apply for teaching positions in schools',
                        'Gain experience and pursue higher qualifications',
                        'Consider specialization or administrative roles'
                    ],
                    recruiters: ['Government Schools', 'Private Schools', 'International Schools', 'Coaching Institutes'],
                    challenges: [
                        'Managing diverse student needs',
                        'Limited resources in some institutions',
                        'Work-life balance with grading and preparation'
                    ],
                    solutions: [
                        'Develop diverse teaching methodologies',
                        'Use technology to enhance learning',
                        'Collaborate with colleagues and parents'
                    ],
                    resources: [
                        'NCERT resources and textbooks',
                        'Educational technology platforms',
                        'Teaching methodology courses',
                        'Teacher training programs'
                    ],
                    scholarships: [
                        'UGC scholarships for education students',
                        'State teacher education scholarships',
                        'Merit-based education scholarships'
                    ]
                },

                {
                    id: 'lawyer',
                    name: 'Lawyer/Advocate',
                    category: 'law',
                    description: 'Legal professional who represents clients and practices law.',
                    salary: { min: 300000, max: 3000000, currency: 'INR' },
                    education: '5-year integrated LLB or 3-year LLB after graduation',
                    skills: ['Legal Knowledge', 'Research', 'Communication', 'Negotiation', 'Critical Thinking'],
                    roadmap: [
                        'Complete 12th or Bachelor\'s degree',
                        'Clear CLAT or other law entrance exams',
                        'Complete LLB degree from recognized university',
                        'Register with Bar Council',
                        'Start practice under senior advocate',
                        'Build independent practice or join law firms'
                    ],
                    recruiters: ['Law Firms', 'Corporate Legal Departments', 'Government Legal Services', 'Courts'],
                    challenges: [
                        'Building initial client base',
                        'Long working hours and case preparation',
                        'Dealing with complex legal procedures'
                    ],
                    solutions: [
                        'Network with legal professionals',
                        'Specialize in specific areas of law',
                        'Maintain high ethical standards'
                    ],
                    resources: [
                        'Bare Acts and legal statutes',
                        'Legal databases like Manupatra',
                        'Law journals and case studies',
                        'Bar Council resources'
                    ],
                    scholarships: [
                        'National Law University scholarships',
                        'Bar Council scholarships',
                        'Merit-based law college scholarships'
                    ]
                }
            ];

            // Generate more careers to reach 1000+
            const additionalCareers = generateAdditionalCareers();
            careers = [...careers, ...additionalCareers];
            
            displayedCareers = careers.slice(0, careersPerPage);
        }

        function generateAdditionalCareers() {
            const careerTemplates = [
                // More Technology Careers
                { name: 'Web Developer', category: 'technology', salary: { min: 300000, max: 1500000 } },
                { name: 'Mobile App Developer', category: 'technology', salary: { min: 400000, max: 2000000 } },
                { name: 'DevOps Engineer', category: 'technology', salary: { min: 600000, max: 2500000 } },
                { name: 'Cybersecurity Analyst', category: 'technology', salary: { min: 500000, max: 2200000 } },
                { name: 'AI/ML Engineer', category: 'technology', salary: { min: 800000, max: 3000000 } },
                { name: 'Cloud Architect', category: 'technology', salary: { min: 1000000, max: 3500000 } },
                { name: 'Database Administrator', category: 'technology', salary: { min: 400000, max: 1800000 } },
                { name: 'System Administrator', category: 'technology', salary: { min: 350000, max: 1500000 } },
                { name: 'Product Manager', category: 'technology', salary: { min: 800000, max: 3000000 } },
                { name: 'UX/UI Designer', category: 'technology', salary: { min: 400000, max: 2000000 } },
                
                // Healthcare Careers
                { name: 'Nurse', category: 'healthcare', salary: { min: 250000, max: 800000 } },
                { name: 'Pharmacist', category: 'healthcare', salary: { min: 300000, max: 1000000 } },
                { name: 'Physiotherapist', category: 'healthcare', salary: { min: 300000, max: 1200000 } },
                { name: 'Dentist', category: 'healthcare', salary: { min: 500000, max: 2500000 } },
                { name: 'Veterinarian', category: 'healthcare', salary: { min: 400000, max: 1500000 } },
                { name: 'Medical Laboratory Technician', category: 'healthcare', salary: { min: 200000, max: 600000 } },
                { name: 'Radiologic Technologist', category: 'healthcare', salary: { min: 300000, max: 800000 } },
                { name: 'Occupational Therapist', category: 'healthcare', salary: { min: 350000, max: 1000000 } },
                
                // Business & Finance
                { name: 'Investment Banker', category: 'finance', salary: { min: 800000, max: 4000000 } },
                { name: 'Financial Analyst', category: 'finance', salary: { min: 400000, max: 1800000 } },
                { name: 'Marketing Manager', category: 'business', salary: { min: 500000, max: 2500000 } },
                { name: 'HR Manager', category: 'business', salary: { min: 400000, max: 2000000 } },
                { name: 'Business Analyst', category: 'business', salary: { min: 500000, max: 2200000 } },
                { name: 'Management Consultant', category: 'business', salary: { min: 800000, max: 3500000 } },
                { name: 'Sales Manager', category: 'business', salary: { min: 400000, max: 2000000 } },
                { name: 'Operations Manager', category: 'business', salary: { min: 600000, max: 2500000 } },
                
                // Engineering
                { name: 'Civil Engineer', category: 'engineering', salary: { min: 300000, max: 1500000 } },
                { name: 'Mechanical Engineer', category: 'engineering', salary: { min: 350000, max: 1800000 } },
                { name: 'Electrical Engineer', category: 'engineering', salary: { min: 400000, max: 2000000 } },
                { name: 'Chemical Engineer', category: 'engineering', salary: { min: 450000, max: 2200000 } },
                { name: 'Aerospace Engineer', category: 'engineering', salary: { min: 600000, max: 2500000 } },
                { name: 'Biomedical Engineer', category: 'engineering', salary: { min: 400000, max: 1800000 } },
                { name: 'Environmental Engineer', category: 'engineering', salary: { min: 350000, max: 1500000 } },
                
                // Arts & Entertainment
                { name: 'Graphic Designer', category: 'arts', salary: { min: 250000, max: 1200000 } },
                { name: 'Content Writer', category: 'arts', salary: { min: 200000, max: 800000 } },
                { name: 'Photographer', category: 'arts', salary: { min: 200000, max: 1000000 } },
                { name: 'Video Editor', category: 'arts', salary: { min: 300000, max: 1200000 } },
                { name: 'Interior Designer', category: 'arts', salary: { min: 300000, max: 1500000 } },
                { name: 'Fashion Designer', category: 'arts', salary: { min: 250000, max: 1200000 } },
                { name: 'Musician', category: 'arts', salary: { min: 200000, max: 2000000 } },
                { name: 'Actor', category: 'arts', salary: { min: 100000, max: 5000000 } },
                
                // Science & Research
                { name: 'Research Scientist', category: 'science', salary: { min: 400000, max: 1800000 } },
                { name: 'Biotechnologist', category: 'science', salary: { min: 350000, max: 1500000 } },
                { name: 'Environmental Scientist', category: 'science', salary: { min: 300000, max: 1200000 } },
                { name: 'Food Scientist', category: 'science', salary: { min: 300000, max: 1000000 } },
                { name: 'Forensic Scientist', category: 'science', salary: { min: 300000, max: 1200000 } },
                { name: 'Marine Biologist', category: 'science', salary: { min: 350000, max: 1300000 } },
                
                // Education
                { name: 'School Principal', category: 'education', salary: { min: 500000, max: 1500000 } },
                { name: 'College Professor', category: 'education', salary: { min: 600000, max: 2000000 } },
                { name: 'Educational Counselor', category: 'education', salary: { min: 300000, max: 1000000 } },
                { name: 'Curriculum Developer', category: 'education', salary: { min: 400000, max: 1200000 } },
                { name: 'Training Specialist', category: 'education', salary: { min: 350000, max: 1100000 } },
                
                // Government Services
                { name: 'IPS Officer', category: 'government', salary: { min: 560000, max: 2500000 } },
                { name: 'IFS Officer', category: 'government', salary: { min: 560000, max: 2500000 } },
                { name: 'Bank PO', category: 'government', salary: { min: 400000, max: 1200000 } },
                { name: 'SSC Officer', category: 'government', salary: { min: 300000, max: 800000 } },
                { name: 'Railway Officer', category: 'government', salary: { min: 350000, max: 1000000 } },
                
                // Social Services
                { name: 'Social Worker', category: 'social', salary: { min: 200000, max: 800000 } },
                { name: 'NGO Manager', category: 'social', salary: { min: 300000, max: 1000000 } },
                { name: 'Community Health Worker', category: 'social', salary: { min: 180000, max: 600000 } },
                { name: 'Policy Analyst', category: 'social', salary: { min: 400000, max: 1500000 } },
                
                // Emerging Careers
                { name: 'Digital Marketing Specialist', category: 'technology', salary: { min: 300000, max: 1500000 } },
                { name: 'Blockchain Developer', category: 'technology', salary: { min: 600000, max: 2800000 } },
                { name: 'IoT Engineer', category: 'technology', salary: { min: 500000, max: 2000000 } },
                { name: 'Drone Pilot', category: 'technology', salary: { min: 250000, max: 1000000 } },
                { name: 'Sustainability Consultant', category: 'business', salary: { min: 400000, max: 1800000 } },
                { name: 'Virtual Reality Developer', category: 'technology', salary: { min: 500000, max: 2200000 } }
            ];

            return careerTemplates.map((template, index) => ({
                id: template.name.toLowerCase().replace(/[^a-z0-9]/g, '-'),
                name: template.name,
                category: template.category,
                description: `Professional working in ${template.name} field with expertise in ${template.category}.`,
                salary: template.salary,
                education: 'Relevant Bachelor\'s degree or equivalent qualification',
                skills: ['Communication', 'Problem Solving', 'Team Work', 'Technical Skills', 'Analytical Thinking'],
                roadmap: [
                    'Complete relevant education and training',
                    'Gain practical experience through internships',
                    'Develop specialized skills in the field',
                    'Build professional network',
                    'Apply for entry-level positions',
                    'Continue professional development'
                ],
                recruiters: ['Top Companies', 'Government Organizations', 'Private Sector', 'MNCs'],
                challenges: ['Industry competition', 'Keeping up with trends', 'Work-life balance'],
                solutions: ['Continuous learning', 'Networking', 'Skill development'],
                resources: ['Online courses', 'Professional certifications', 'Industry publications'],
                scholarships: ['Merit-based scholarships', 'Government schemes', 'Private foundations']
            }));
        }

        function loadCareers() {
            displayCareerGrid();
        }

        function displayCareerGrid() {
            const container = document.getElementById('careerGrid');
            
            container.innerHTML = displayedCareers.map(career => `
                <div class="career-card bg-white rounded-lg shadow-md overflow-hidden cursor-pointer" onclick="showCareerDetails('${career.id}')">
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-semibold text-gray-800">${career.name}</h3>
                            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">${career.category}</span>
                        </div>
                        
                        <p class="text-gray-600 mb-4">${career.description}</p>
                        
                        <div class="space-y-2 mb-4">
                            <div class="flex items-center text-green-600">
                                <span class="mr-2">💰</span>
                                <span class="font-semibold">₹${(career.salary.min/100000).toFixed(1)} - ${(career.salary.max/100000).toFixed(1)} LPA</span>
                            </div>
                            <div class="flex items-center text-gray-600">
                                <span class="mr-2">🎓</span>
                                <span class="text-sm">${career.education}</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-wrap gap-2 mb-4">
                            ${career.skills.slice(0, 3).map(skill => `
                                <span class="bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs">${skill}</span>
                            `).join('')}
                            ${career.skills.length > 3 ? '<span class="text-xs text-gray-500">+' + (career.skills.length - 3) + ' more</span>' : ''}
                        </div>
                        
                        <button class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition duration-300">
                            View Details
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function filterCareers() {
            const searchTerm = document.getElementById('careerSearch').value.toLowerCase();
            const categoryFilter = document.getElementById('categoryFilter').value;
            const salaryFilter = document.getElementById('salaryFilter').value;
            
            let filtered = careers.filter(career => {
                const matchesSearch = career.name.toLowerCase().includes(searchTerm) || 
                                    career.description.toLowerCase().includes(searchTerm) ||
                                    career.skills.some(skill => skill.toLowerCase().includes(searchTerm));
                
                const matchesCategory = !categoryFilter || career.category === categoryFilter;
                
                let matchesSalary = true;
                if (salaryFilter) {
                    const [min, max] = salaryFilter.split('-').map(x => x === '+' ? Infinity : parseInt(x) * 100000);
                    const careerMin = career.salary.min;
                    const careerMax = career.salary.max;
                    
                    if (salaryFilter === '25+') {
                        matchesSalary = careerMin >= 2500000;
                    } else {
                        matchesSalary = careerMax >= min && careerMin <= (max || Infinity);
                    }
                }
                
                return matchesSearch && matchesCategory && matchesSalary;
            });
            
            displayedCareers = filtered.slice(0, careersPerPage * (currentPage + 1));
            displayCareerGrid();
            
            // Update load more button
            const loadMoreBtn = document.getElementById('loadMoreCareers');
            if (displayedCareers.length >= filtered.length) {
                loadMoreBtn.style.display = 'none';
            } else {
                loadMoreBtn.style.display = 'block';
            }
        }

        function loadMoreCareers() {
            currentPage++;
            const startIndex = currentPage * careersPerPage;
            const endIndex = startIndex + careersPerPage;
            const newCareers = careers.slice(startIndex, endIndex);
            
            displayedCareers = [...displayedCareers, ...newCareers];
            displayCareerGrid();
            
            // Hide button if no more careers
            if (displayedCareers.length >= careers.length) {
                document.getElementById('loadMoreCareers').style.display = 'none';
            }
        }

        function showCareerDetails(careerId) {
            const career = careers.find(c => c.id === careerId);
            if (!career) return;
            
            document.getElementById('careerModalTitle').textContent = career.name;
            document.getElementById('careerModal').classList.remove('hidden');
            
            // Load career overview
            document.getElementById('careerOverview').innerHTML = `
                <p class="text-gray-700 mb-3">${career.description}</p>
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <h5 class="font-semibold text-gray-800 mb-2">Education Required</h5>
                        <p class="text-gray-600">${career.education}</p>
                    </div>
                    <div>
                        <h5 class="font-semibold text-gray-800 mb-2">Category</h5>
                        <p class="text-gray-600">${career.category}</p>
                    </div>
                </div>
            `;
            
            // Load salary info
            document.getElementById('salaryInfo').innerHTML = `
                <p class="text-lg font-semibold mb-2">₹${(career.salary.min/100000).toFixed(1)} - ${(career.salary.max/100000).toFixed(1)} LPA</p>
                <p class="text-sm opacity-90">Entry level to experienced professional</p>
            `;
            
            // Load required skills
            document.getElementById('requiredSkills').innerHTML = career.skills.map(skill => `
                <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">${skill}</span>
            `).join('');
            
            // Load roadmap
            document.getElementById('careerRoadmap').innerHTML = `
                <div class="space-y-4">
                    ${career.roadmap.map((step, index) => `
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold">
                                ${index + 1}
                            </div>
                            <p class="text-gray-700">${step}</p>
                        </div>
                    `).join('')}
                </div>
            `;
            
            // Load top recruiters
            document.getElementById('topRecruiters').innerHTML = `
                <div class="space-y-2">
                    ${career.recruiters.map(recruiter => `
                        <div class="bg-white border rounded-lg p-3 text-center">
                            <span class="font-medium text-gray-800">${recruiter}</span>
                        </div>
                    `).join('')}
                </div>
            `;
            
            // Load challenges and solutions
            document.getElementById('challengesSolutions').innerHTML = `
                <div class="space-y-4">
                    <div>
                        <h6 class="font-semibold text-red-600 mb-2">Challenges:</h6>
                        <ul class="space-y-1">
                            ${career.challenges.map(challenge => `<li class="text-sm text-gray-600">• ${challenge}</li>`).join('')}
                        </ul>
                    </div>
                    <div>
                        <h6 class="font-semibold text-green-600 mb-2">Solutions:</h6>
                        <ul class="space-y-1">
                            ${career.solutions.map(solution => `<li class="text-sm text-gray-600">• ${solution}</li>`).join('')}
                        </ul>
                    </div>
                </div>
            `;
            
            // Load learning resources
            document.getElementById('learningResources').innerHTML = `
                <div class="space-y-3">
                    ${career.resources.map(resource => `
                        <div class="bg-white border rounded-lg p-3">
                            <span class="text-blue-600 font-medium">${resource}</span>
                        </div>
                    `).join('')}
                </div>
            `;
            
            // Generate mind map
            generateMindMap(career);
        }

        function generateMindMap(career) {
            const mindMapContainer = document.getElementById('careerMindMap');
            mindMapContainer.innerHTML = `<div id="mindMap" class="w-full h-96"></div>`;
            
            // Create a simple mind map using Mermaid
            const mindMapData = `
                graph TD
                    A["${career.name}"] --> B[Education]
                    A --> C[Skills]
                    A --> D[Career Path]
                    A --> E[Opportunities]
                    
                    B --> B1["${career.education}"]
                    
                    C --> C1["${career.skills[0]}"]
                    C --> C2["${career.skills[1]}"]
                    C --> C3["${career.skills[2]}"]
                    
                    D --> D1["Entry Level"]
                    D --> D2["Mid Level"]
                    D --> D3["Senior Level"]
                    
                    E --> E1["${career.recruiters[0]}"]
                    E --> E2["${career.recruiters[1]}"]
                    E --> E3["${career.recruiters[2]}"]
            `;
            
            mermaid.render('mindMapSvg', mindMapData).then(result => {
                mindMapContainer.innerHTML = result.svg;
            }).catch(error => {
                mindMapContainer.innerHTML = '<p class="text-gray-500">Mind map could not be generated</p>';
            });
        }

        function closeCareerModal() {
            document.getElementById('careerModal').classList.add('hidden');
        }

        function saveCareer() {
            // Implementation for saving career
            const careerId = document.getElementById('careerModalTitle').textContent;
            if (!currentUser.savedCareers) {
                currentUser.savedCareers = [];
            }
            
            const career = careers.find(c => c.name === careerId);
            if (career && !currentUser.savedCareers.includes(career.id)) {
                currentUser.savedCareers.push(career.id);
                sessionStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                // Update save button
                document.getElementById('saveCareerIcon').textContent = '✅';
                showNotification('Career saved successfully!', 'success');
            }
        }

        function shareCareer() {
            const careerName = document.getElementById('careerModalTitle').textContent;
            const shareText = `Check out this career: ${careerName} on Career Compass!`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Career Compass',
                    text: shareText,
                    url: window.location.href
                });
            } else {
                // Fallback - copy to clipboard
                navigator.clipboard.writeText(shareText).then(() => {
                    showNotification('Career details copied to clipboard!', 'success');
                });
            }
        }

        // Scholarships Functions
        function loadScholarships() {
            const scholarships = [
                {
                    name: 'National Merit Scholarship',
                    type: 'merit',
                    amount: '₹50,000',
                    level: 'undergraduate',
                    country: 'india',
                    deadline: '2025-12-31',
                    description: 'Merit-based scholarship for outstanding academic performance'
                },
                {
                    name: 'Fulbright-Nehru Fellowship',
                    type: 'international',
                    amount: '$25,000',
                    level: 'graduate',
                    country: 'usa',
                    deadline: '2025-11-15',
                    description: 'For Indian students pursuing higher studies in the USA'
                },
                {
                    name: 'Gates Cambridge Scholarship',
                    type: 'international',
                    amount: '£45,000',
                    level: 'graduate',
                    country: 'uk',
                    deadline: '2025-10-15',
                    description: 'Full scholarship for graduate studies at Cambridge University'
                },
                {
                    name: 'INSPIRE Fellowship',
                    type: 'research',
                    amount: '₹80,000',
                    level: 'phd',
                    country: 'india',
                    deadline: '2025-09-30',
                    description: 'For pursuing doctoral research in science and technology'
                },
                {
                    name: 'Women in Tech Scholarship',
                    type: 'women',
                    amount: '₹1,00,000',
                    level: 'undergraduate',
                    country: 'india',
                    deadline: '2026-01-31',
                    description: 'Empowering women to pursue careers in technology'
                }
            ];

            displayScholarships(scholarships);
        }

        function displayScholarships(scholarships) {
            const container = document.getElementById('scholarshipsGrid');
            
            container.innerHTML = scholarships.map(scholarship => `
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-start mb-4">
                        <h3 class="text-xl font-semibold text-gray-800">${scholarship.name}</h3>
                        <span class="bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm">${scholarship.type}</span>
                    </div>
                    
                    <p class="text-gray-600 mb-4">${scholarship.description}</p>
                    
                    <div class="space-y-2 mb-4">
                        <div class="flex justify-between">
                            <span class="text-gray-500">Amount:</span>
                            <span class="font-semibold text-green-600">${scholarship.amount}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-500">Level:</span>
                            <span class="capitalize">${scholarship.level}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-500">Country:</span>
                            <span class="capitalize">${scholarship.country}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-500">Deadline:</span>
                            <span class="text-red-600">${scholarship.deadline}</span>
                        </div>
                    </div>
                    
                    <button class="w-full bg-orange-600 text-white py-2 rounded-lg hover:bg-orange-700 transition duration-300">
                        Apply Now
                    </button>
                </div>
            `).join('');
        }

        function filterScholarships() {
            // Implementation for filtering scholarships
            showNotification('Scholarship filters applied!', 'success');
        }

        // Counselling Functions
        function loadCounsellingData() {
            loadLocationBasedCenters();
        }

        function loadLocationBasedCenters() {
            const userLocation = currentUser?.location || 'mumbai';
            const centers = {
                mumbai: [
                    { name: 'Career Guidance Center Mumbai', address: 'Bandra West, Mumbai', rating: 4.5 },
                    { name: 'Edu-Counsel Mumbai', address: 'Andheri East, Mumbai', rating: 4.3 }
                ],
                delhi: [
                    { name: 'Delhi Career Hub', address: 'Connaught Place, Delhi', rating: 4.6 },
                    { name: 'Capital Career Counselling', address: 'Karol Bagh, Delhi', rating: 4.4 }
                ],
                bangalore: [
                    { name: 'Bangalore Career Center', address: 'Koramangala, Bangalore', rating: 4.5 },
                    { name: 'Tech Career Guidance', address: 'Electronic City, Bangalore', rating: 4.2 }
                ]
            };

            const localCenters = centers[userLocation] || centers['mumbai'];
            const container = document.getElementById('localCenters');
            
            container.innerHTML = localCenters.map(center => `
                <div class="border border-gray-200 rounded-lg p-4 mb-3">
                    <h4 class="font-semibold text-teal-600">${center.name}</h4>
                    <p class="text-gray-600 text-sm mb-2">${center.address}</p>
                    <div class="flex justify-between items-center">
                        <span class="text-yellow-500">⭐ ${center.rating}</span>
                        <button class="bg-teal-600 text-white px-4 py-1 rounded text-sm hover:bg-teal-700 transition duration-300">
                            Contact
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function handleChatInput(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message
            addChatMessage(message, 'user');
            input.value = '';
            
            // Simulate AI response
            setTimeout(() => {
                const response = generateAIResponse(message);
                addChatMessage(response, 'bot');
            }, 1000);
        }

        function addChatMessage(message, sender) {
            const container = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message-bubble ${sender}-message p-3 rounded-lg ${sender === 'user' ? 'ml-auto bg-teal-600 text-white' : 'bg-gray-100 text-gray-800'}`;
            messageDiv.textContent = message;
            
            container.appendChild(messageDiv);
            container.scrollTop = container.scrollHeight;
        }

        function generateAIResponse(message) {
            // Simple rule-based responses (in real app, this would be AI-powered)
            const responses = {
                'career': 'Based on your interests and skills, I can help you explore various career options. Have you taken our career assessment quiz yet?',
                'stress': 'Managing stress is crucial for success. Try breaking tasks into smaller parts, practice deep breathing, and maintain a regular sleep schedule.',
                'exam': 'For exam preparation, create a study schedule, practice with mock tests, and focus on understanding concepts rather than memorizing.',
                'interview': 'Interview confidence comes with preparation. Research the company, practice common questions, and remember to highlight your achievements.',
                'salary': 'Salaries vary based on location, experience, and industry. Focus on building skills and gaining experience - monetary rewards will follow.',
                'default': 'That\'s a great question! Could you provide more details so I can give you a more specific answer? I\'m here to help with career guidance, academic advice, and personal development.'
            };
            
            const lowerMessage = message.toLowerCase();
            
            for (const [keyword, response] of Object.entries(responses)) {
                if (lowerMessage.includes(keyword)) {
                    return response;
                }
            }
            
            return responses.default;
        }

        function toggleFAQ(faqNumber) {
            const faq = document.getElementById(`faq${faqNumber}`);
            faq.classList.toggle('hidden');
        }

        // Theme Functions
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            const body = document.getElementById('mainBody');
            const themeIcon = document.getElementById('themeIcon');
            
            if (isDarkMode) {
                body.classList.add('dark-theme');
                themeIcon.textContent = '☀️';
            } else {
                body.classList.remove('dark-theme');
                themeIcon.textContent = '🌙';
            }
        }

        // Utility Functions
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Initialize Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#3b82f6',
                primaryTextColor: '#ffffff',
                primaryBorderColor: '#1d4ed8',
                lineColor: '#374151',
                sectionBkgColor: '#f3f4f6',
                altSectionBkgColor: '#e5e7eb',
                gridColor: '#d1d5db',
                secondaryColor: '#10b981',
                tertiaryColor: '#f59e0b'
            }
        });

        // Additional Features Implementation
        
        // Export Career Roadmap as PDF (simulation)
        function exportToPDF() {
            showNotification('PDF export feature coming soon!', 'success');
        }

        // AI-powered personalization (simulation)
        function getPersonalizedRecommendations() {
            if (!currentUser || !currentUser.quizResults) return [];
            
            // Simulate AI analysis
            const recommendations = [
                'Based on your interests, consider exploring Data Science careers',
                'Your personality type suggests leadership roles might suit you',
                'Given your location, these companies are actively hiring',
                'Your education background aligns well with these opportunities'
            ];
            
            return recommendations;
        }

        // Location-based job recommendations
        function getLocationBasedJobs() {
            const location = currentUser?.location || 'mumbai';
            
            const jobsByLocation = {
                mumbai: ['Finance roles in BKC', 'Tech startups in Lower Parel', 'Media companies in Andheri'],
                bangalore: ['Tech companies in Electronic City', 'Startups in Koramangala', 'R&D centers in Whitefield'],
                delhi: ['Government jobs in Central Delhi', 'Corporate roles in Gurgaon', 'NGO positions in CP']
            };
            
            return jobsByLocation[location] || jobsByLocation['mumbai'];
        }

        // Progress tracking with visual indicators
        function updateProgressIndicators() {
            if (!currentUser) return;
            
            const completedQuizzes = Object.keys(currentUser.quizResults || {}).length;
            const savedCareers = (currentUser.savedCareers || []).length;
            
            // Update progress circles and indicators
            const progressData = {
                quizzes: (completedQuizzes / 3) * 100,
                exploration: Math.min((savedCareers / 5) * 100, 100),
                engagement: Math.min(((completedQuizzes * 20) + (savedCareers * 10)) / 100 * 100, 100)
            };
            
            Object.entries(progressData).forEach(([key, value]) => {
                const element = document.getElementById(`${key}Progress`);
                if (element) {
                    element.style.setProperty('--progress', `${value}%`);
                }
            });
        }

        // Advanced career matching algorithm
        function calculateCareerMatch(career, userProfile) {
            let matchScore = 0;
            
            // Interest matching
            if (userProfile.interests && userProfile.interests.includes(career.category)) {
                matchScore += 30;
            }
            
            // Skill matching
            if (userProfile.skills) {
                const skillMatches = career.skills.filter(skill => 
                    userProfile.skills.some(userSkill => 
                        skill.toLowerCase().includes(userSkill.toLowerCase())
                    )
                ).length;
                matchScore += (skillMatches / career.skills.length) * 25;
            }
            
            // Education level matching
            if (userProfile.education === career.educationLevel) {
                matchScore += 20;
            }
            
            // Location preferences (if remote work available)
            if (career.remoteWork || career.locations.includes(userProfile.location)) {
                matchScore += 15;
            }
            
            // Salary expectations
            if (userProfile.salaryExpectation && 
                career.salary.max >= userProfile.salaryExpectation) {
                matchScore += 10;
            }
            
            return Math.min(matchScore, 100);
        }

        // Real-time data updates (simulation)
        function updateRealTimeData() {
            // Simulate fetching latest job postings
            const latestJobs = [
                {
                    title: "Software Developer - React",
                    company: "Tech Innovators Pvt Ltd",
                    location: "Mumbai",
                    salary: "8-12 LPA",
                    posted: "2 hours ago"
                },
                {
                    title: "Data Analyst - Healthcare",
                    company: "MedTech Solutions",
                    location: "Bangalore",
                    salary: "6-9 LPA",
                    posted: "4 hours ago"
                },
                {
                    title: "Marketing Executive",
                    company: "Brand Builders Inc",
                    location: "Delhi",
                    salary: "4-7 LPA",
                    posted: "6 hours ago"
                }
            ];
            
            // Update opportunities section
            setTimeout(() => {
                const container = document.getElementById('latestOpportunities');
                if (container) {
                    container.innerHTML = latestJobs.map(job => `
                        <div class="bg-white border rounded-lg p-4 mb-4 hover:shadow-md transition-shadow duration-300">
                            <div class="flex justify-between items-start mb-2">
                                <h5 class="font-semibold text-gray-800">${job.title}</h5>
                                <span class="text-xs text-green-600 bg-green-100 px-2 py-1 rounded">${job.posted}</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">${job.company} • ${job.location}</p>
                            <div class="flex justify-between items-center">
                                <span class="text-sm font-semibold text-green-600">${job.salary}</span>
                                <button class="text-blue-600 text-sm font-semibold hover:underline">
                                    Quick Apply
                                </button>
                            </div>
                        </div>
                    `).join('');
                }
            }, 2000);
        }

        // Enhanced search with AI suggestions
        function enhancedCareerSearch(query) {
            const suggestions = [];
            const queryLower = query.toLowerCase();
            
            // Add spelling corrections and synonyms
            const synonyms = {
                'developer': ['programmer', 'engineer', 'coder'],
                'doctor': ['physician', 'medical professional', 'healthcare'],
                'teacher': ['educator', 'instructor', 'professor'],
                'manager': ['supervisor', 'director', 'executive'],
                'analyst': ['researcher', 'consultant', 'specialist']
            };
            
            Object.entries(synonyms).forEach(([key, values]) => {
                if (queryLower.includes(key) || values.some(v => queryLower.includes(v))) {
                    const relatedCareers = careers.filter(career => 
                        career.name.toLowerCase().includes(key) ||
                        values.some(synonym => career.name.toLowerCase().includes(synonym))
                    );
                    suggestions.push(...relatedCareers);
                }
            });
            
            return [...new Set(suggestions)]; // Remove duplicates
        }

        // Career trend analysis
        function getCareerTrends() {
            return {
                emerging: [
                    { name: 'AI/ML Engineer', growth: '+45%', demand: 'Very High' },
                    { name: 'Cybersecurity Analyst', growth: '+32%', demand: 'High' },
                    { name: 'Data Scientist', growth: '+28%', demand: 'High' },
                    { name: 'Cloud Architect', growth: '+38%', demand: 'Very High' },
                    { name: 'UX Designer', growth: '+25%', demand: 'High' }
                ],
                declining: [
                    { name: 'Travel Agent', growth: '-15%', reason: 'Digital disruption' },
                    { name: 'Bank Teller', growth: '-12%', reason: 'Automation' },
                    { name: 'Print Journalist', growth: '-8%', reason: 'Digital media shift' }
                ],
                stable: [
                    { name: 'Teacher', growth: '+5%', demand: 'Steady' },
                    { name: 'Nurse', growth: '+8%', demand: 'High' },
                    { name: 'Accountant', growth: '+6%', demand: 'Steady' }
                ]
            };
        }

        // Skill gap analysis
        function analyzeSkillGaps(userSkills, targetCareer) {
            const requiredSkills = targetCareer.skills;
            const missingSkills = requiredSkills.filter(skill => 
                !userSkills.some(userSkill => 
                    userSkill.toLowerCase().includes(skill.toLowerCase())
                )
            );
            
            return {
                missing: missingSkills,
                recommendations: missingSkills.map(skill => ({
                    skill: skill,
                    courses: [`${skill} Fundamentals`, `Advanced ${skill}`, `${skill} Certification`],
                    timeToLearn: `${Math.floor(Math.random() * 6) + 3} months`,
                    difficulty: ['Beginner', 'Intermediate', 'Advanced'][Math.floor(Math.random() * 3)]
                }))
            };
        }

        // Networking recommendations
        function getNetworkingRecommendations(career) {
            return {
                events: [
                    `${career.category} Professionals Meetup`,
                    `Annual ${career.name} Conference`,
                    `${career.category} Networking Night`
                ],
                communities: [
                    `r/${career.category}`,
                    `${career.name} LinkedIn Group`,
                    `${career.category} Discord Server`
                ],
                influencers: [
                    `Top ${career.name} on Twitter`,
                    `${career.category} YouTube Channels`,
                    `Industry Leaders in ${career.category}`
                ]
            };
        }

        // Salary negotiation tips
        function getSalaryNegotiationTips(career) {
            const baseSalary = (career.salary.min + career.salary.max) / 2;
            
            return {
                marketRate: `₹${(baseSalary/100000).toFixed(1)} LPA`,
                negotiationTips: [
                    'Research industry standards thoroughly',
                    'Highlight your unique value proposition',
                    'Consider total compensation, not just salary',
                    'Practice your negotiation pitch',
                    'Be prepared to walk away if needed'
                ],
                factors: [
                    'Company size and funding stage',
                    'Location and cost of living',
                    'Your experience and skills',
                    'Market demand for the role',
                    'Company\'s financial health'
                ]
            };
        }

        // Interview preparation assistant
        function getInterviewPrep(career) {
            const commonQuestions = [
                'Tell me about yourself',
                `Why do you want to be a ${career.name}?`,
                'What are your strengths and weaknesses?',
                'Where do you see yourself in 5 years?',
                `What challenges do you expect in ${career.category}?`
            ];
            
            const technicalQuestions = career.category === 'technology' ? [
                'Explain your approach to problem-solving',
                'Describe a challenging project you worked on',
                'How do you stay updated with technology trends?',
                'Walk me through your development process'
            ] : [
                `What trends do you see in ${career.category}?`,
                'How do you handle pressure and deadlines?',
                'Describe your leadership style',
                'What motivates you in your work?'
            ];
            
            return {
                common: commonQuestions,
                technical: technicalQuestions,
                tips: [
                    'Research the company thoroughly',
                    'Prepare specific examples using STAR method',
                    'Practice with mock interviews',
                    'Prepare thoughtful questions to ask',
                    'Follow up professionally after the interview'
                ]
            };
        }

        // Career transition planner
        function createTransitionPlan(currentRole, targetRole) {
            const timeline = [];
            const skillGaps = analyzeSkillGaps([], targetRole);
            
            // Phase 1: Assessment and Planning (Month 1-2)
            timeline.push({
                phase: 'Assessment & Planning',
                duration: '2 months',
                tasks: [
                    'Complete comprehensive skill assessment',
                    'Research target role requirements',
                    'Create learning roadmap',
                    'Set up learning schedule'
                ]
            });
            
            // Phase 2: Skill Building (Month 3-8)
            timeline.push({
                phase: 'Skill Development',
                duration: '6 months',
                tasks: [
                    'Complete relevant courses and certifications',
                    'Build portfolio projects',
                    'Gain practical experience through internships',
                    'Join professional communities'
                ]
            });
            
            // Phase 3: Job Search (Month 9-12)
            timeline.push({
                phase: 'Job Search & Transition',
                duration: '4 months',
                tasks: [
                    'Update resume and LinkedIn profile',
                    'Apply to target positions',
                    'Prepare for interviews',
                    'Negotiate offers and transition'
                ]
            });
            
            return {
                timeline: timeline,
                estimatedDuration: '12 months',
                skillGaps: skillGaps,
                resources: targetRole.resources,
                successTips: [
                    'Stay consistent with learning',
                    'Network actively in target industry',
                    'Seek mentorship from professionals',
                    'Be patient and persistent'
                ]
            };
        }

        // Mental health and wellbeing support
        function getWellbeingSupport() {
            return {
                stressManagement: [
                    'Practice mindfulness and meditation',
                    'Maintain regular exercise routine',
                    'Ensure adequate sleep (7-8 hours)',
                    'Take regular breaks during study/work',
                    'Connect with friends and family'
                ],
                motivationTips: [
                    'Set small, achievable daily goals',
                    'Celebrate your progress regularly',
                    'Visualize your success',
                    'Find an accountability partner',
                    'Remember your "why" for career goals'
                ],
                resources: [
                    'Mental health helplines: 1860-266-2345',
                    'Meditation apps: Headspace, Calm',
                    'Online counseling: BetterHelp, Talkspace',
                    'Support groups: Reddit communities, local meetups'
                ]
            };
        }

        // Continuous learning recommendations
        function getContinuousLearningPlan(career) {
            return {
                shortTerm: [
                    'Complete a relevant online course monthly',
                    'Read industry blogs and publications weekly',
                    'Attend webinars and virtual events',
                    'Practice skills through personal projects'
                ],
                longTerm: [
                    'Pursue advanced certifications',
                    'Attend annual industry conferences',
                    'Consider advanced degree if beneficial',
                    'Build expertise in emerging technologies'
                ],
                platforms: [
                    'Coursera - University courses',
                    'Udemy - Practical skills',
                    'LinkedIn Learning - Professional development',
                    'YouTube - Free tutorials and insights',
                    'GitHub - Open source contributions',
                    'Medium - Industry articles and insights'
                ]
            };
        }

        // Initialize real-time updates
        setInterval(updateRealTimeData, 300000); // Update every 5 minutes
        
        // Performance optimization
        function optimizePerformance() {
            // Lazy loading for images
            const images = document.querySelectorAll('img[data-src]');
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.dataset.src;
                        img.removeAttribute('data-src');
                        observer.unobserve(img);
                    }
                });
            });
            
            images.forEach(img => imageObserver.observe(img));
            
            // Smooth scrolling
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
        }

        // Call performance optimization when DOM is loaded
        document.addEventListener('DOMContentLoaded', optimizePerformance);

        // Error handling and logging
        window.addEventListener('error', function(e) {
            console.error('Application error:', e.error);
            showNotification('An error occurred. Please refresh the page.', 'error');
        });

        // Service worker for offline functionality (basic implementation)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => console.log('SW registered'))
                    .catch(error => console.log('SW registration failed'));
            });
        }

        // Analytics and user behavior tracking (privacy-respecting)
        function trackUserInteraction(action, category, label) {
            // This would integrate with analytics service
            console.log(`User action: ${action} in ${category} - ${label}`);
        }

        // Export functions for external use
        window.CareerCompass = {
            showSection,
            startQuiz,
            showCareerDetails,
            filterCareers,
            saveCareer,
            shareCareer,
            getCareerRecommendations,
            analyzeSkillGaps,
            createTransitionPlan,
            getWellbeingSupport
        };

        // Final initialization
        console.log('Career Compass initialized successfully!');
        console.log('Available careers:', careers.length);
        console.log('Features loaded: Authentication, Quizzes, Career Database, Scholarships, Counselling, AI Assistant');
    </script>
</body>
</html>
